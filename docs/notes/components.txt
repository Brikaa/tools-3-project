- Root
  - userCtx: {
    id,
    username,
    role,
    token
  }
  - setUserCtx()
    - localStorage get token
      - if no token, userCtx is null
    - getAccount with token
    - Determine userCtx based on getAccount response
  - On init
    - setUserCtx()

- GuestNavbar
  - Login
    - Post to login
    - Put token in localStorage
    - emit userCtxEvent
  - Register
    - Post to register
    - Alert result

- UserNavbar
  - {userCtx.role} {userCtx.username}
  - Logout
    - Remove token from localStorage
    - emit userCtxEvent

- PatientComponent
  - doctors: {id: username}
  - slots: {id: {start, end}
  - appointments: {id: {slotStart, slotEnd, doctorId, doctorUsername}}
  - selectedDoctorId
  - setDoctors()
    - Get doctors
    - doctors = received
  - setSelectedDoctorId(id)
    - selectedDoctorId = id
    - get slots for doctor of id
    - slots = received
  - setAppointments()
    - get appointments
    - appointments = received
  - scheduleAppointment(slotId)
    - Put appointment at slotId
    - setSelectedDoctorId(selectedDoctorId) // refresh
  - cancelAppointment(id)
    - Delete appointment of id
    - setAppointments() // refresh
  - EditAppointmentSlot(id)
    - prompt: new slotId
    - edit appointment of id to be of slotId
    - setAppointments() // refresh
  - OnInit()
    - setDoctors()
    - selectedDoctorId = ""
    - setAppointments()
  - Doctor drop down (for doctor of doctors)
    - on change: setSelectedDoctorId(target.value)
  - Slots for that doctor (for slot of slots)
    - Schedule appointment button if appointment.slotId not in slots
      - scheduleAppointment(slot.id)
  - Appointments (for appointment of appointments)
    - Cancel appointment button
      - cancelAppointment(appointment.id)
    - Edit slot button
      - editAppointmentSlot(appointment.id)

- DoctorComponent
  - slots
  - appointments
  - setSlots()
    - get slots
    - slots = received
  - setAppointments()
    - get doctor appointments
    - appointments = received
  - createSlot()
    - prompt: startDate
    - prompt: endDate
    - create slot with startDate and endDate
    - setSlots() // refresh
  - editSlot(slotId)
    - prompt: startDate
    - prompt: endDate
    - update slot of slotId with startDate and endDate
    - setSlots() // refresh
  - deleteSlot(slotId)
    - delete slot of slotId
    - setSlots() // refresh
  - onInit()
    - setSlots()
    - setAppointments()
  - Slots (for slot in slots)
    - "create new" button at top
      - createSlot()
    - Edit button for each one
      - editSlot(slot.id)
    - Delete button for each one
      - deleteSlot()
  - Appointments (for appointment in appointments)

===================================================
Components composition

- Root
  - GuestNavbar [if userCtx = null] -> userCtxEvent
  - UserNavbar [if userCtx != null] <- userCtx, -> UserCtxEvent
  - PatientComponent [if userCtx.role = 'patient'] <- userCtx
  - DoctorComponent [if userCtx.role = 'doctor'] <- userCtx
